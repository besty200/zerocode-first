import random
import time


class Hero:
    """
    –ö–ª–∞—Å—Å, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –≥–µ—Ä–æ—è –≤ –∏–≥—Ä–µ "–ë–∏—Ç–≤–∞ –≥–µ—Ä–æ–µ–≤".

    –ê—Ç—Ä–∏–±—É—Ç—ã:
        name (str): –ò–º—è –≥–µ—Ä–æ—è
        health (int): –¢–µ–∫—É—â–µ–µ –∑–¥–æ—Ä–æ–≤—å–µ –≥–µ—Ä–æ—è (–Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ 100)
        attack_power (int): –°–∏–ª–∞ —É–¥–∞—Ä–∞ –≥–µ—Ä–æ—è (–Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ 20)
    """

    def __init__(self, name, health=100, attack_power=20):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≥–µ—Ä–æ—è —Å –∑–∞–¥–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

        Args:
            name (str): –ò–º—è –≥–µ—Ä–æ—è
            health (int): –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100)
            attack_power (int): –°–∏–ª–∞ —É–¥–∞—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 20)
        """
        self.name = name
        self.health = health
        self.attack_power = attack_power

    def attack(self, other):
        """
        –ê—Ç–∞–∫—É–µ—Ç –¥—Ä—É–≥–æ–≥–æ –≥–µ—Ä–æ—è, –Ω–∞–Ω–æ—Å—è —É—Ä–æ–Ω —Ä–∞–≤–Ω—ã–π —Å–∏–ª–µ —É–¥–∞—Ä–∞.

        Args:
            other (Hero): –¶–µ–ª—å –∞—Ç–∞–∫–∏ (–¥—Ä—É–≥–æ–π –≥–µ—Ä–æ–π)
        """
        damage = self.attack_power
        other.health -= damage
        if other.health < 0:
            other.health = 0
        print(f"{self.name} –∞—Ç–∞–∫—É–µ—Ç {other.name} –∏ –Ω–∞–Ω–æ—Å–∏—Ç {damage} —É—Ä–æ–Ω–∞!")

    def is_alive(self):
        """
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –∂–∏–≤ –ª–∏ –≥–µ—Ä–æ–π (–∑–¥–æ—Ä–æ–≤—å–µ –±–æ–ª—å—à–µ 0).

        Returns:
            bool: True –µ—Å–ª–∏ –≥–µ—Ä–æ–π –∂–∏–≤, False –µ—Å–ª–∏ –º–µ—Ä—Ç–≤
        """
        return self.health > 0


class Game:
    """
    –ö–ª–∞—Å—Å, —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –∏–≥—Ä–æ–≤—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º "–ë–∏—Ç–≤—ã –≥–µ—Ä–æ–µ–≤".

    –ê—Ç—Ä–∏–±—É—Ç—ã:
        player (Hero): –ì–µ—Ä–æ–π –∏–≥—Ä–æ–∫–∞
        computer (Hero): –ì–µ—Ä–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
    """

    def __init__(self, player_name):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–≥—Ä—É —Å –≥–µ—Ä–æ–µ–º –∏–≥—Ä–æ–∫–∞ –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞.

        Args:
            player_name (str): –ò–º—è –≥–µ—Ä–æ—è –∏–≥—Ä–æ–∫–∞
        """
        self.player = Hero(player_name)
        self.computer = Hero("–ö–æ–º–ø—å—é—Ç–µ—Ä")

    def start(self):
        """
        –ó–∞–ø—É—Å–∫–∞–µ—Ç –∏–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å. –ì–µ—Ä–æ–∏ –ø–æ–æ—á–µ—Ä–µ–¥–Ω–æ –∞—Ç–∞–∫—É—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞,
        –ø–æ–∫–∞ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö –Ω–µ –ø–æ–≥–∏–±–Ω–µ—Ç. –í—ã–≤–æ–¥–∏—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º —Ö–æ–¥–µ
        –∏ –æ–±—ä—è–≤–ª—è–µ—Ç—Å—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—å.
        """
        print("=" * 50)
        print("‚öîÔ∏è  –î–û–ë–†–û –ü–û–ñ–ê–õ–û–í–ê–¢–¨ –í –ë–ò–¢–í–£ –ì–ï–†–û–ï–í! ‚öîÔ∏è")
        print("=" * 50)
        print(f"–í–∞—à –≥–µ—Ä–æ–π: {self.player.name}")
        print(f"–ü—Ä–æ—Ç–∏–≤–Ω–∏–∫: {self.computer.name}")
        print("\n–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã:")
        print("- –ì–µ—Ä–æ–∏ –ø–æ–æ—á–µ—Ä–µ–¥–Ω–æ –∞—Ç–∞–∫—É—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞")
        print("- –ö–∞–∂–¥–∞—è –∞—Ç–∞–∫–∞ –Ω–∞–Ω–æ—Å–∏—Ç —É—Ä–æ–Ω, —Ä–∞–≤–Ω—ã–π —Å–∏–ª–µ —É–¥–∞—Ä–∞")
        print("- –ü–æ–±–µ–∂–¥–∞–µ—Ç —Ç–æ—Ç, –∫—Ç–æ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ –∂–∏–≤—ã—Ö!")
        print("=" * 50)
        input("\n–ù–∞–∂–º–∏—Ç–µ Enter, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –±–∏—Ç–≤—É...")

        round_number = 1

        while self.player.is_alive() and self.computer.is_alive():
            print(f"\n‚öîÔ∏è  –†–ê–£–ù–î {round_number} ‚öîÔ∏è")
            print("-" * 30)

            # –•–æ–¥ –∏–≥—Ä–æ–∫–∞
            print(f"\n–í–∞—à —Ö–æ–¥, {self.player.name}!")
            self.player.attack(self.computer)
            print(f"–ó–¥–æ—Ä–æ–≤—å–µ {self.computer.name}: {self.computer.health}")

            # –ü—Ä–æ–≤–µ—Ä–∫–∞, –∂–∏–≤ –ª–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä
            if not self.computer.is_alive():
                break

            print("\n‚è≥ –ö–æ–º–ø—å—é—Ç–µ—Ä –¥—É–º–∞–µ—Ç...")
            time.sleep(1)  # –ù–µ–±–æ–ª—å—à–∞—è –ø–∞—É–∑–∞ –¥–ª—è –¥—Ä–∞–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞

            # –•–æ–¥ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
            print(f"\n–•–æ–¥ {self.computer.name}!")
            self.computer.attack(self.player)
            print(f"–í–∞—à–µ –∑–¥–æ—Ä–æ–≤—å–µ: {self.player.health}")

            # –ü—Ä–æ–≤–µ—Ä–∫–∞, –∂–∏–≤ –ª–∏ –∏–≥—Ä–æ–∫
            if not self.player.is_alive():
                break

            round_number += 1
            print("\n" + "=" * 30)
            input("–ù–∞–∂–º–∏—Ç–µ Enter, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å...")

        # –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
        print("\n" + "=" * 50)
        print("üèÜ –†–ï–ó–£–õ–¨–¢–ê–¢ –ë–ò–¢–í–´ üèÜ")
        print("=" * 50)

        if self.player.is_alive():
            print(f"üéâ –ü–û–ë–ï–î–ò–õ {self.player.name.upper()}! üéâ")
            print(f"–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –æ–¥–æ–ª–µ–ª–∏ {self.computer.name}!")
        else:
            print(f"üíÄ {self.computer.name.upper()} –ü–û–ë–ï–î–ò–õ! üíÄ")
            print(f"–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, {self.player.name} –ø–∞–ª –≤ –±–æ—é...")

        print(f"\n–§–∏–Ω–∞–ª—å–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ:")
        print(f"{self.player.name}: {self.player.health}")
        print(f"{self.computer.name}: {self.computer.health}")
        print("=" * 50)


def main():
    """
    –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä—ã.
    –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∏–º—è –∏–≥—Ä–æ–∫–∞ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∏–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å.
    """
    print("üéÆ –ë–ò–¢–í–ê –ì–ï–†–û–ï–í üéÆ")
    print("-" * 25)

    while True:
        player_name = input("–í–≤–µ–¥–∏—Ç–µ –∏–º—è –≤–∞—à–µ–≥–æ –≥–µ—Ä–æ—è: ").strip()
        if player_name:
            break
        print("–ò–º—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∏–º—è.")

    # –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã
    game = Game(player_name)
    game.start()

    # –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å—ã–≥—Ä–∞—Ç—å –µ—â–µ —Ä–∞–∑
    while True:
        play_again = input("\n–•–æ—Ç–∏—Ç–µ —Å—ã–≥—Ä–∞—Ç—å –µ—â–µ —Ä–∞–∑? (–¥–∞/–Ω–µ—Ç): ").strip().lower()
        if play_again in ['–¥–∞', '–¥', 'yes', 'y']:
            main()
            break
        elif play_again in ['–Ω–µ—Ç', '–Ω', 'no', 'n']:
            print("–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É! –î–æ –Ω–æ–≤—ã—Ö –±–∏—Ç–≤! üõ°Ô∏è")
            break
        else:
            print("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ '–¥–∞' –∏–ª–∏ '–Ω–µ—Ç'")


if __name__ == "__main__":
    main()